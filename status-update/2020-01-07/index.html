<!doctype html><html lang=en><head><meta charset=UTF-8><meta content=yes name=apple-mobile-web-app-capable><meta content="width=device-width,initial-scale=1" name=viewport><meta content="light dark" name=color-scheme><meta content="This blog series creates a small operating system in the Rust programming language. Each post is a small tutorial and includes all needed code." name=description><meta content="Philipp Oppermann" name=author><link href=https://os.phil-opp.com/status-update/2020-01-07/ rel=canonical><link href=/css/edition-2/main.css rel=stylesheet><link title="RSS feed for os.phil-opp.com" href=https://os.phil-opp.com/rss.xml rel=alternate type=application/rss+xml><script>let theme = localStorage.getItem("theme");
        if (theme != null) {
            document.documentElement.setAttribute("data-theme", theme);
        }</script><script async src=/js/edition-2/main.js></script><title>Updates in December 2019 | Writing an OS in Rust</title><body><div class="container content"><header class=masthead><div style=position:relative><h2 class=masthead-title><a href=https://os.phil-opp.com title=Home>Writing an OS in Rust</a></h2><p><small>Philipp Oppermann's blog</small></div></header><div class=theme-switch><div title="Switch between light and dark theme" class=light-switch onclick=toggle_lights()></div><div title="Clear the theme override and go back to the system theme" class=light-switch-reset onclick=clear_theme_override()></div></div><div><main><h1>Updates in December 2019</h1><time class=post-date datetime=2020-01-07> Jan 07, 2020 </time><p>Happy New Year!<p>This post gives an overview of the recent updates to the <em>Writing an OS in Rust</em> blog and the corresponding libraries and tools.<h2 id=blog-os><code>blog_os</code></h2><p>The repository of the <em>Writing an OS in Rust</em> blog received the following updates:<ul><li>Update <code>x86_64</code> dependency to version 0.8.1. This included the <a href=https://github.com/phil-opp/blog_os/pull/701>dependency update</a> itself, an <a href=https://github.com/phil-opp/blog_os/pull/703>update of the frame allocation code</a>, and an <a href=https://github.com/phil-opp/blog_os/pull/704>update of the blog</a>.<li><a href=https://github.com/phil-opp/blog_os/pull/705>License the <code>blog/content</code> folder under CC BY-NC</a><li><a href=https://github.com/phil-opp/blog_os/pull/709>Reword sentence in first post</a> by <a href=https://github.com/pamolloy>@pamolloy</a></ul><p>Further, we’re still working on adding <a href=https://github.com/phil-opp/blog_os/pull/692>Experimental Support for Community Translations</a> to the blog, starting with <a href=https://github.com/phil-opp/blog_os/pull/694>Simplified Chinese</a> and <a href=https://github.com/phil-opp/blog_os/pull/699>Traditional Chinese</a>. Any help is appreciated!<h2 id=bootloader><code>bootloader</code></h2><p>There were no updates to the bootloader this month.<p>I’m currently working on rewriting the 16-bit/32-bit stages in Rust and making the bootloader more modular in the process. This should make it much easier to add support for UEFI and GRUB booting later.<h2 id=bootimage><code>bootimage</code></h2><p>There were no updates to the <code>bootimage</code> tool this month.<h2 id=x86-64><code>x86_64</code></h2><p>We landed a number of breaking changes this month:<ul><li><a href=https://github.com/rust-osdev/x86_64/pull/91>Replace <code>ux</code> dependency with custom wrapper structs</a><li><a href=https://github.com/rust-osdev/x86_64/pull/89>Add new UnusedPhysFrame type and use it in Mapper::map_to</a><li><a href=https://github.com/rust-osdev/x86_64/pull/84>Make Mapper trait object safe by adding <code>Self: Sized</code> bounds on generic functions</a><li><a href=https://github.com/rust-osdev/x86_64/pull/108>Rename divide_by_zero field of IDT to divide_error</a><li><a href=https://github.com/rust-osdev/x86_64/pull/109>Introduce new diverging handler functions for exceptions classified as “abort”</a></ul><p>These changes were released an version 0.8.0. Unfortunately, there was a missing re-export for the new <code>UnusedPhysFrame</code> type. We fixed it in <a href=https://github.com/rust-osdev/x86_64/pull/110>#110</a> and released the fix as version 0.8.1.<p>There was one more addition to the <code>x86_64</code> crate afterwards:<ul><li><a href=https://github.com/rust-osdev/x86_64/pull/111>Add support for cr4 control register (with complete documentation)</a> by <a href=https://github.com/KarimAllah>@KarimAllah</a> (released as version 0.8.2).</ul><p>There were also a few changes related to continuous integration:<ul><li><a href=https://github.com/rust-osdev/x86_64/pull/103>Remove bors from this repo</a><li><a href=https://github.com/rust-osdev/x86_64/pull/104>Run ‘push’ builds only for master branch</a><li><a href=https://github.com/rust-osdev/x86_64/pull/105>Remove Travis CI and Azure Pipelines scripts</a><li><a href=https://github.com/rust-osdev/x86_64/pull/100>Add caching of cargo crates to GitHub Actions CI</a></ul><h2 id=cargo-xbuild><code>cargo-xbuild</code></h2><p>The <code>cargo-xbuild</code> crate, which cross-compiles the sysroot, received the following updates this month:<ul><li><a href=https://github.com/rust-osdev/cargo-xbuild/pull/43>Add <code>--quiet</code> flag that suppresses “waiting for file lock” message</a> by <a href=https://github.com/Nils-TUD>@Nils-TUD</a> (published as version 0.5.19)<li><a href=https://github.com/rust-osdev/cargo-xbuild/pull/50>Fix wrong feature name for memcpy=false</a> (released as version 0.5.20)</ul><div><h2>Thank You!</h2><p>Thanks a lot to all the contributors this month!<p>I also want to thank all the people who support me on <a href=https://github.com/sponsors/phil-opp>GitHub</a>, <a href=https://www.patreon.com/phil_opp>Patreon</a>, and <a href=https://donorbox.org/phil-opp>Donorbox</a>. It means a lot to me!</div></main></div><div><hr><div class=PageNavigation><a class=prev href=/status-update/2019-12-02/>« Updates in October and November 2019</a><a class=next href=/status-update/2020-02-01/>Updates in January 2020 »</a></div><hr><section><h2 id=comments>Comments</h2><p class=comment-note>Do you have a problem, want to share feedback, or discuss further ideas? Feel free to leave a comment here! Please stick to English and follow Rust's <a href=https://www.rust-lang.org/policies/code-of-conduct>code of conduct</a>. This comment thread directly maps to a <a href='https://github.com/phil-opp/blog_os/discussions/categories/post-comments?discussions_q="Updates in December 2019"'><em>discussion on GitHub</em></a>, so you can also comment there if you prefer.<div class=giscus></div><script data-category="Post Comments" data-repo-id="MDEwOlJlcG9zaXRvcnkzOTU3NTEwMQ==" data-term="Updates in December 2019" async crossorigin=anonymous data-category-id=MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDE4OTg1 data-emit-metadata=1 data-mapping=specific data-reactions-enabled=1 data-repo=phil-opp/blog_os data-theme=preferred_color_scheme src=https://giscus.app/client.js></script><p class=comment-directly-on-github>Instead of authenticating the <a href=https://giscus.app>giscus</a> application, you can also comment directly <a href='https://github.com/phil-opp/blog_os/discussions/categories/post-comments?discussions_q="Updates in December 2019"'><em>on GitHub</em></a>.</section></div><footer class=footer><hr><small> © <time datetime=2021>2021</time>. All rights reserved. <a href=https://os.phil-opp.com/contact/>Contact</a> </small></footer></div><script async data-goatcounter=https://phil-opp.goatcounter.com/count src=//gc.zgo.at/count.js></script>